{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\lhaveman\\\\email-generator\\\\src\\\\views\\\\SignaturesView.tsx\",\n  _s = $RefreshSig$();\nimport React, { useCallback, useEffect, useState } from 'react';\nimport { core } from '@tauri-apps/api';\nimport clipboard from 'tauri-plugin-clipboard-api';\nimport SignatureCard from '../components/SignatureCard/SignatureCard';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst LEFT_MIN_WIDTH = 150;\nconst GUTTER = '1rem';\nconst PREVIEW_MAX_WIDTH = 350;\nconst PREVIEW_BG = '#f9fafb';\nexport default function SignaturesView() {\n  _s();\n  const [signatureName, setSignatureName] = useState('');\n  const [name, setName] = useState('');\n  const [position, setPosition] = useState('');\n  const [department, setDepartment] = useState('');\n  const [company, setCompany] = useState('');\n  const [locations, setLocations] = useState({});\n  const [selectedLocation, setSelectedLocation] = useState('');\n  const [imageFileName, setImageFileName] = useState('');\n  const [signatureList, setSignatureList] = useState([]);\n  const [viewMode, setViewMode] = useState('preview');\n  const [lastSelectedSignature, setLastSelectedSignature] = useState(null);\n  const [imageBase64, setImageBase64] = useState(null);\n  const handleSave = () => {\n    var _locations$selectedLo;\n    const signature = {\n      signature_name: signatureName,\n      name,\n      position,\n      department,\n      company,\n      location: {\n        name: selectedLocation,\n        address: (_locations$selectedLo = locations[selectedLocation]) !== null && _locations$selectedLo !== void 0 ? _locations$selectedLo : ''\n      },\n      image_filename: imageFileName\n    };\n    core.invoke('save_signature_to_file', {\n      signature\n    }).then(() => {\n      console.log('Signature saved to file!');\n      reloadSignatureList();\n    }).catch(err => console.error('Failed to save signature:', err));\n  };\n  const reloadSignatureList = () => {\n    core.invoke('load_signatures').then(names => {\n      Promise.all(names.map(name => core.invoke('load_signature_file', {\n        name\n      }).then(sig => ({\n        signatureName: sig.signature_name,\n        userName: sig.name\n      })))).then(setSignatureList);\n    }).catch(err => console.error('Failed to reload signatures:', err));\n  };\n  const handleSelectSignature = useCallback((name, mode = 'preview') => {\n    core.invoke('load_signature_file', {\n      name\n    }).then(sig => {\n      setSignatureName(sig.signature_name);\n      setName(sig.name);\n      setPosition(sig.position);\n      setDepartment(sig.department);\n      setCompany(sig.company);\n      setSelectedLocation(sig.location.name);\n      setImageFileName(sig.image_filename);\n      setViewMode(mode);\n      setLastSelectedSignature(name);\n      if (name !== lastSelectedSignature) {\n        core.invoke('save_cache', {\n          cache: {\n            last_selected_signature: name\n          }\n        }).catch(err => console.error('Failed to save cache:', err));\n      }\n      if (sig.image_filename) {\n        core.invoke('get_signature_image_base64', {\n          filename: sig.image_filename\n        }).then(setImageBase64).catch(err => console.error('Failed to load image:', err));\n      } else {\n        setImageBase64(null); // Clear if no image\n      }\n    }).catch(err => console.error('Failed to load signature:', err));\n  }, [lastSelectedSignature]);\n  const handleDeleteSignature = name => {\n    core.invoke('delete_signature_file', {\n      name\n    }).then(() => {\n      setSignatureList(prev => prev.filter(sig => sig.signatureName !== name));\n    }).catch(err => console.error('Failed to delete signature:', err));\n  };\n  const handleCopyToClipboard = async () => {\n    var _locations$selectedLo2;\n    const html = `\n      <div>\n        <strong>${name}</strong><br/>\n        ${position}, ${department}<br/>\n        ${company}<br/>\n        ${(_locations$selectedLo2 = locations[selectedLocation]) !== null && _locations$selectedLo2 !== void 0 ? _locations$selectedLo2 : ''}<br/>\n        ${imageBase64 ? `<img src=\"data:image/png;base64,${imageBase64}\" style=\"max-width:300px;margin-top:1rem;\" />` : ''}\n      </div>\n    `;\n    try {\n      await clipboard.writeHtml(html);\n      //await clipboard.writeText(`${name}\\n${position}, ${department}\\n${company}`);\n      console.log('Copied to clipboard!');\n    } catch (err) {\n      console.error('Failed to copy to clipboard:', err);\n    }\n  };\n  useEffect(() => {\n    core.invoke('load_cache').then(cache => {\n      if (cache.last_selected_signature) {\n        setLastSelectedSignature(cache.last_selected_signature);\n      }\n    }).catch(err => console.error('Failed to load cache:', err));\n  }, []);\n  useEffect(() => {\n    core.invoke('load_signatures').then(names => {\n      Promise.all(names.map(name => core.invoke('load_signature_file', {\n        name\n      }).then(sig => ({\n        signatureName: sig.signature_name,\n        userName: sig.name\n      })))).then(list => {\n        setSignatureList(list);\n\n        // Load cache and select signature\n        core.invoke('load_cache').then(cache => {\n          var _list$, _cache$last_selected_;\n          const fallback = (_list$ = list[0]) === null || _list$ === void 0 ? void 0 : _list$.signatureName;\n          const toSelect = (_cache$last_selected_ = cache.last_selected_signature) !== null && _cache$last_selected_ !== void 0 ? _cache$last_selected_ : fallback;\n          if (toSelect && viewMode === 'preview') {\n            handleSelectSignature(toSelect, 'preview');\n          }\n        }).catch(err => console.error('Failed to load cache:', err));\n      });\n    }).catch(err => console.error('Failed to load signatures:', err));\n  }, [handleSelectSignature, viewMode]);\n  useEffect(() => {\n    core.invoke('load_locations').then(setLocations).catch(err => console.error('Failed to load locations:', err));\n  }, []);\n  const handleImageUpload = e => {\n    var _e$target$files;\n    const file = (_e$target$files = e.target.files) === null || _e$target$files === void 0 ? void 0 : _e$target$files[0];\n    if (file) {\n      setImageFileName(file.name);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      display: 'flex',\n      height: '100%',\n      padding: '1rem'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        minWidth: LEFT_MIN_WIDTH,\n        flex: `1 1 ${LEFT_MIN_WIDTH}px`,\n        // grows/shrinks but never below min\n        borderRight: '1px solid #e5e7eb',\n        paddingRight: GUTTER,\n        // padding on the left side of divider\n        overflowY: 'auto'\n      },\n      children: signatureList.map(({\n        signatureName,\n        userName\n      }) => /*#__PURE__*/_jsxDEV(SignatureCard, {\n        signatureName: signatureName,\n        userName: userName,\n        onSelect: () => handleSelectSignature(signatureName, 'preview'),\n        onEdit: () => handleSelectSignature(signatureName, 'edit'),\n        onDelete: () => handleDeleteSignature(signatureName)\n      }, signatureName, false, {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        flex: '3 1 0',\n        paddingLeft: GUTTER,\n        overflowY: 'auto'\n      },\n      children: viewMode === 'preview' ?\n      /*#__PURE__*/\n      // ==== PREVIEW CONTAINER ====\n      _jsxDEV(\"div\", {\n        style: {\n          position: 'relative',\n          background: PREVIEW_BG,\n          border: '1px solid #e5e7eb',\n          borderRadius: 12,\n          boxShadow: '0 1px 3px rgba(0,0,0,0.06)',\n          padding: '1rem 1rem 1.25rem 1rem',\n          maxWidth: PREVIEW_MAX_WIDTH,\n          width: '100%'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            alignItems: 'center',\n            gap: '0.75rem',\n            paddingRight: 80 // leave some breathing room so text doesn't collide with icons\n          },\n          children: /*#__PURE__*/_jsxDEV(\"h3\", {\n            title: signatureName || 'Signature Preview',\n            style: {\n              margin: 0,\n              fontSize: '1.125rem',\n              fontWeight: 600,\n              color: '#111827',\n              overflow: 'hidden',\n              textOverflow: 'ellipsis',\n              whiteSpace: 'nowrap'\n            },\n            children: signatureName || 'Signature Preview'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 254,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            position: 'absolute',\n            top: 10,\n            right: 10,\n            display: 'flex',\n            gap: 8\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            \"aria-label\": \"Copy signature to clipboard\",\n            title: \"Copy signature to clipboard\",\n            onClick: handleCopyToClipboard,\n            style: {\n              display: 'inline-flex',\n              alignItems: 'center',\n              justifyContent: 'center',\n              width: 32,\n              height: 32,\n              borderRadius: 6,\n              border: '1px solid #d0d7de',\n              background: '#fff',\n              color: '#111827',\n              // ensures SVG 'currentColor' renders as dark\n              cursor: 'pointer',\n              boxShadow: '0 1px 2px rgba(0,0,0,0.04)',\n              padding: 0\n            },\n            children: /*#__PURE__*/_jsxDEV(\"svg\", {\n              xmlns: \"http://www.w3.org/2000/svg\",\n              width: \"20\",\n              height: \"20\",\n              viewBox: \"0 0 24 24\",\n              children: /*#__PURE__*/_jsxDEV(\"g\", {\n                fill: \"none\",\n                stroke: \"currentColor\",\n                strokeWidth: \"1.5\",\n                children: [/*#__PURE__*/_jsxDEV(\"path\", {\n                  d: \"M6 11c0-2.828 0-4.243.879-5.121C7.757 5 9.172 5 12 5h3c2.828 0 4.243 0 5.121.879C21 6.757 21 8.172 21 11v5c0 2.828 0 4.243-.879 5.121C19.243 22 17.828 22 15 22h-3c-2.828 0-4.243 0-5.121-.879C6 20.243 6 18.828 6 16z\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 305,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n                  d: \"M6 19a3 3 0 0 1-3-3v-6c0-3.771 0-5.657 1.172-6.828S7.229 2 11 2h4a3 3 0 0 1 3 3\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 306,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 304,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 303,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 282,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            \"aria-label\": \"Edit signature\",\n            title: \"Edit signature\",\n            onClick: () => setViewMode('edit'),\n            style: {\n              display: 'inline-flex',\n              alignItems: 'center',\n              justifyContent: 'center',\n              width: 32,\n              height: 32,\n              borderRadius: 6,\n              border: '1px solid #d0d7de',\n              background: '#fff',\n              color: '#111827',\n              cursor: 'pointer',\n              boxShadow: '0 1px 2px rgba(0,0,0,0.04)',\n              padding: 0\n            },\n            children: /*#__PURE__*/_jsxDEV(\"svg\", {\n              xmlns: \"http://www.w3.org/2000/svg\",\n              width: \"20\",\n              height: \"20\",\n              viewBox: \"0 0 24 24\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                fill: \"currentColor\",\n                d: \"M5 19h1.425L16.2 9.225L14.775 7.8L5 17.575zm-1 2q-.425 0-.712-.288T3 20v-2.425q0-.4.15-.763t.425-.637L16.2 3.575q.3-.275.663-.425t.762-.15t.775.15t.65.45L20.425 5q.3.275.437.65T21 6.4q0 .4-.138.763t-.437.662l-12.6 12.6q-.275.275-.638.425t-.762.15zM19 6.4L17.6 5zm-3.525 2.125l-.7-.725L16.2 9.225z\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 334,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 333,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 312,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 272,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginTop: '0.75rem',\n            lineHeight: 1.5\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              margin: 0\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 343,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 344,\n              columnNumber: 17\n            }, this), position, \", \", department, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 346,\n              columnNumber: 17\n            }, this), company, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 348,\n              columnNumber: 17\n            }, this), locations[selectedLocation]]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 342,\n            columnNumber: 15\n          }, this), imageBase64 && /*#__PURE__*/_jsxDEV(\"img\", {\n            src: `data:image/png;base64,${imageBase64}`,\n            alt: \"Signature\",\n            style: {\n              maxWidth: 300,\n              marginTop: '1rem'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 353,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 341,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 11\n      }, this) :\n      /*#__PURE__*/\n      // ==== EDIT VIEW ====\n      _jsxDEV(\"div\", {\n        style: {\n          maxWidth: PREVIEW_MAX_WIDTH,\n          width: '100%'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          style: {\n            marginTop: 0\n          },\n          children: \"Create or Edit Signature\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 364,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: e => e.preventDefault(),\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginBottom: '1rem'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Signature Name:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 368,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 369,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: signatureName,\n              onChange: e => setSignatureName(e.target.value),\n              style: {\n                width: '100%'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 370,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 367,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              gap: '1rem',\n              marginBottom: '1rem'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                flex: 1\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: [\"Name\", /*#__PURE__*/_jsxDEV(\"span\", {\n                  style: {\n                    color: 'red'\n                  },\n                  children: \" *\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 382,\n                  columnNumber: 25\n                }, this), \":\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 381,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 384,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                value: name,\n                onChange: e => setName(e.target.value),\n                style: {\n                  width: '100%'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 385,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 380,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                flex: 1\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: [\"Position\", /*#__PURE__*/_jsxDEV(\"span\", {\n                  style: {\n                    color: 'red'\n                  },\n                  children: \" *\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 394,\n                  columnNumber: 29\n                }, this), \":\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 393,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 396,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                value: position,\n                onChange: e => setPosition(e.target.value),\n                style: {\n                  width: '100%'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 397,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 392,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 379,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              gap: '1rem',\n              marginBottom: '1rem'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                flex: 1\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Company:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 409,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 410,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                value: company,\n                onChange: e => setCompany(e.target.value),\n                style: {\n                  width: '100%'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 411,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 408,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                flex: 1\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Department:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 419,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 420,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                value: department,\n                onChange: e => setDepartment(e.target.value),\n                style: {\n                  width: '100%'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 421,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 418,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 407,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              gap: '1rem',\n              marginBottom: '1rem'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                flex: 1\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Location:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 433,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 434,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: selectedLocation,\n                onChange: e => setSelectedLocation(e.target.value),\n                style: {\n                  width: '100%'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  disabled: true,\n                  value: \"\",\n                  children: \"-- Select Location --\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 440,\n                  columnNumber: 21\n                }, this), Object.entries(locations).map(([name, address]) => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: name,\n                  children: name\n                }, name, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 444,\n                  columnNumber: 23\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 435,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 432,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                flex: 1\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Company Logo or Signature Image:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 451,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 452,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"file\",\n                accept: \"image/*\",\n                onChange: handleImageUpload,\n                style: {\n                  width: '100%'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 453,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 450,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 431,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              gap: '0.5rem'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: handleSave,\n              children: \"Save\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 464,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: () => setViewMode('preview'),\n              children: \"Cancel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 467,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 463,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 365,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 363,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 197,\n    columnNumber: 5\n  }, this);\n}\n_s(SignaturesView, \"LQy20mRkTUkFXqRWcjrcHNDMFOo=\");\n_c = SignaturesView;\nvar _c;\n$RefreshReg$(_c, \"SignaturesView\");","map":{"version":3,"names":["React","useCallback","useEffect","useState","core","clipboard","SignatureCard","jsxDEV","_jsxDEV","LEFT_MIN_WIDTH","GUTTER","PREVIEW_MAX_WIDTH","PREVIEW_BG","SignaturesView","_s","signatureName","setSignatureName","name","setName","position","setPosition","department","setDepartment","company","setCompany","locations","setLocations","selectedLocation","setSelectedLocation","imageFileName","setImageFileName","signatureList","setSignatureList","viewMode","setViewMode","lastSelectedSignature","setLastSelectedSignature","imageBase64","setImageBase64","handleSave","_locations$selectedLo","signature","signature_name","location","address","image_filename","invoke","then","console","log","reloadSignatureList","catch","err","error","names","Promise","all","map","sig","userName","handleSelectSignature","mode","cache","last_selected_signature","filename","handleDeleteSignature","prev","filter","handleCopyToClipboard","_locations$selectedLo2","html","writeHtml","list","_list$","_cache$last_selected_","fallback","toSelect","handleImageUpload","e","_e$target$files","file","target","files","style","display","height","padding","children","minWidth","flex","borderRight","paddingRight","overflowY","onSelect","onEdit","onDelete","fileName","_jsxFileName","lineNumber","columnNumber","paddingLeft","background","border","borderRadius","boxShadow","maxWidth","width","alignItems","gap","title","margin","fontSize","fontWeight","color","overflow","textOverflow","whiteSpace","top","right","type","onClick","justifyContent","cursor","xmlns","viewBox","fill","stroke","strokeWidth","d","marginTop","lineHeight","src","alt","onSubmit","preventDefault","marginBottom","value","onChange","disabled","Object","entries","accept","_c","$RefreshReg$"],"sources":["C:/Users/lhaveman/email-generator/src/views/SignaturesView.tsx"],"sourcesContent":["\r\nimport React, { useCallback, useEffect, useState } from 'react';\r\nimport { core } from '@tauri-apps/api';\r\nimport clipboard from 'tauri-plugin-clipboard-api';\r\n\r\nimport SignatureCard from '../components/SignatureCard/SignatureCard';\r\n\r\nconst LEFT_MIN_WIDTH = 150;\r\nconst GUTTER = '1rem';\r\nconst PREVIEW_MAX_WIDTH = 350;\r\nconst PREVIEW_BG = '#f9fafb';\r\n\r\nexport default function SignaturesView() {\r\n\r\n  const [signatureName, setSignatureName] = useState('');\r\n  const [name, setName] = useState('');\r\n  const [position, setPosition] = useState('');\r\n  const [department, setDepartment] = useState('');\r\n  const [company, setCompany] = useState('');\r\n  const [locations, setLocations] = useState<Record<string, string>>({});\r\n  const [selectedLocation, setSelectedLocation] = useState('');\r\n  const [imageFileName, setImageFileName] = useState('');\r\n  const [signatureList, setSignatureList] = useState<\r\n    { signatureName: string; userName: string }[]\r\n  >([]);\r\n  const [viewMode, setViewMode] = useState<'preview' | 'edit'>('preview');\r\n  const [lastSelectedSignature, setLastSelectedSignature] = useState<string | null>(null);\r\n  const [imageBase64, setImageBase64] = useState<string | null>(null);\r\n\r\n  interface Signature {\r\n  signature_name: string;\r\n  name: string;\r\n  position: string;\r\n  department: string;\r\n  company: string;\r\n  location: {\r\n    name: string;\r\n    address: string;\r\n  };\r\n  image_filename: string;\r\n  }\r\n\r\n  const handleSave = () => {\r\n    const signature = {\r\n      signature_name: signatureName,\r\n      name,\r\n      position,\r\n      department,\r\n      company,\r\n      location: {\r\n        name: selectedLocation,\r\n        address: locations[selectedLocation] ?? ''\r\n      },\r\n      image_filename: imageFileName\r\n    };\r\n\r\n    core.invoke('save_signature_to_file', { signature })\r\n      .then(() => { \r\n        console.log('Signature saved to file!')\r\n        reloadSignatureList();\r\n      })\r\n      .catch(err => console.error('Failed to save signature:', err));\r\n  };\r\n\r\n  const reloadSignatureList = () => {\r\n    core.invoke<string[]>('load_signatures')\r\n      .then((names) => {\r\n        Promise.all(\r\n          names.map((name) =>\r\n            core.invoke<Signature>('load_signature_file', { name })\r\n              .then((sig) => ({\r\n                signatureName: sig.signature_name,\r\n                userName: sig.name,\r\n              }))\r\n          )\r\n        ).then(setSignatureList);\r\n      })\r\n      .catch((err) => console.error('Failed to reload signatures:', err));\r\n  };\r\n\r\n  const handleSelectSignature = useCallback((name: string, mode: 'preview' | 'edit' = 'preview') => {\r\n    core.invoke<Signature>('load_signature_file', { name })\r\n      .then((sig) => {\r\n        setSignatureName(sig.signature_name);\r\n        setName(sig.name);\r\n        setPosition(sig.position);\r\n        setDepartment(sig.department);\r\n        setCompany(sig.company);\r\n        setSelectedLocation(sig.location.name);\r\n        setImageFileName(sig.image_filename);\r\n        setViewMode(mode);\r\n        setLastSelectedSignature(name);\r\n        \r\n        if (name !== lastSelectedSignature) {\r\n          core.invoke('save_cache', {\r\n            cache: { last_selected_signature: name }\r\n          }).catch((err) => console.error('Failed to save cache:', err));\r\n        }\r\n\r\n        if (sig.image_filename) {\r\n                core.invoke<string>('get_signature_image_base64', { filename: sig.image_filename })\r\n                  .then(setImageBase64)\r\n                  .catch((err) => console.error('Failed to load image:', err));\r\n              } else {\r\n                setImageBase64(null); // Clear if no image\r\n              }\r\n            })\r\n            .catch((err) => console.error('Failed to load signature:', err));\r\n  }, [lastSelectedSignature]);\r\n\r\n  const handleDeleteSignature = (name: string) => {\r\n    core.invoke('delete_signature_file', { name })\r\n      .then(() => {    \r\n        setSignatureList((prev) => prev.filter((sig) => sig.signatureName !== name));\r\n      })\r\n      .catch((err) => console.error('Failed to delete signature:', err));\r\n  };\r\n\r\n  const handleCopyToClipboard = async () => {\r\n    const html = `\r\n      <div>\r\n        <strong>${name}</strong><br/>\r\n        ${position}, ${department}<br/>\r\n        ${company}<br/>\r\n        ${locations[selectedLocation] ?? ''}<br/>\r\n        ${\r\n          imageBase64\r\n            ? `<img src=\"data:image/png;base64,${imageBase64}\" style=\"max-width:300px;margin-top:1rem;\" />`\r\n            : ''\r\n        }\r\n      </div>\r\n    `;\r\n    try {\r\n      await clipboard.writeHtml(html);\r\n      //await clipboard.writeText(`${name}\\n${position}, ${department}\\n${company}`);\r\n      console.log('Copied to clipboard!');\r\n    } catch (err) {\r\n      console.error('Failed to copy to clipboard:', err);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    core.invoke<{ last_selected_signature: string | null }>('load_cache')\r\n      .then((cache) => {\r\n        if (cache.last_selected_signature) {\r\n          setLastSelectedSignature(cache.last_selected_signature);\r\n        }\r\n      })\r\n      .catch((err) => console.error('Failed to load cache:', err));\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    core.invoke<string[]>('load_signatures')\r\n      .then((names) => {\r\n        Promise.all(\r\n          names.map((name) =>\r\n            core.invoke<Signature>('load_signature_file', { name })\r\n              .then((sig) => ({\r\n                signatureName: sig.signature_name,\r\n                userName: sig.name,\r\n              }))\r\n          )\r\n        ).then((list) => {\r\n          setSignatureList(list);\r\n\r\n          // Load cache and select signature\r\n          core.invoke<{ last_selected_signature: string | null }>('load_cache')\r\n            .then((cache) => {\r\n              const fallback = list[0]?.signatureName;\r\n              const toSelect = cache.last_selected_signature ?? fallback;\r\n              if (toSelect && viewMode === 'preview') \r\n                {\r\n                  handleSelectSignature(toSelect, 'preview');\r\n                }\r\n            })\r\n            .catch((err) => console.error('Failed to load cache:', err));\r\n        });\r\n      })\r\n      .catch((err) => console.error('Failed to load signatures:', err));\r\n  }, [handleSelectSignature, viewMode]);\r\n\r\n\r\n  useEffect(() => {\r\n    core.invoke<Record<string, string>>('load_locations')\r\n      .then(setLocations)\r\n      .catch(err => console.error('Failed to load locations:', err));\r\n  }, []);\r\n  \r\n  const handleImageUpload = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const file = e.target.files?.[0];\r\n    if (file) {\r\n      setImageFileName(file.name);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div \r\n      style=\r\n      {{ \r\n        display: 'flex', \r\n        height: '100%', \r\n        padding: '1rem' \r\n      }}\r\n    >\r\n      {/* Left column: for signature list */}\r\n      <div \r\n        style=\r\n        {{ \r\n          minWidth: LEFT_MIN_WIDTH,\r\n          flex: `1 1 ${LEFT_MIN_WIDTH}px`, // grows/shrinks but never below min\r\n          borderRight: '1px solid #e5e7eb',\r\n          paddingRight: GUTTER, // padding on the left side of divider\r\n          overflowY: 'auto',\r\n        }}\r\n      >      \r\n        {signatureList.map(({ signatureName, userName }) => (\r\n          <SignatureCard\r\n            key={signatureName}\r\n            signatureName={signatureName}\r\n            userName={userName}\r\n            onSelect={() => handleSelectSignature(signatureName, 'preview')}\r\n            onEdit={() => handleSelectSignature(signatureName, 'edit')}\r\n            onDelete={() => handleDeleteSignature(signatureName)}\r\n          />\r\n        ))}\r\n      </div>\r\n     \r\n      {/* Right column: Signature Preview */}      \r\n      <div style={{ flex: '3 1 0', paddingLeft: GUTTER, overflowY: 'auto' }}>\r\n        {viewMode === 'preview' ? (\r\n          // ==== PREVIEW CONTAINER ====\r\n          <div\r\n            style={{\r\n              position: 'relative',\r\n              background: PREVIEW_BG,\r\n              border: '1px solid #e5e7eb',\r\n              borderRadius: 12,\r\n              boxShadow: '0 1px 3px rgba(0,0,0,0.06)',\r\n              padding: '1rem 1rem 1.25rem 1rem',\r\n              maxWidth: PREVIEW_MAX_WIDTH,\r\n              width: '100%',\r\n            }}\r\n          >\r\n\r\n            {/* Header: Title on the left, icon actions in the top-right */}\r\n            <div\r\n              style={{\r\n                display: 'flex',\r\n                alignItems: 'center',\r\n                gap: '0.75rem',\r\n                paddingRight: 80, // leave some breathing room so text doesn't collide with icons\r\n              }}\r\n            >\r\n              <h3\r\n                title={signatureName || 'Signature Preview'}\r\n                style={{\r\n                  margin: 0,\r\n                  fontSize: '1.125rem',\r\n                  fontWeight: 600,\r\n                  color: '#111827',\r\n                  overflow: 'hidden',\r\n                  textOverflow: 'ellipsis',\r\n                  whiteSpace: 'nowrap',\r\n                }}\r\n              >\r\n                {signatureName || 'Signature Preview'}\r\n              </h3>\r\n            </div>\r\n\r\n\r\n            {/* Icon toolbar (top-right corner) */}\r\n            <div\r\n              style={{\r\n                position: 'absolute',\r\n                top: 10,\r\n                right: 10,\r\n                display: 'flex',\r\n                gap: 8,\r\n              }}\r\n            >\r\n              {/* Copy */}\r\n              <button\r\n                type=\"button\"\r\n                aria-label=\"Copy signature to clipboard\"\r\n                title=\"Copy signature to clipboard\"\r\n                onClick={handleCopyToClipboard}\r\n                style={{\r\n                  display: 'inline-flex',\r\n                  alignItems: 'center',\r\n                  justifyContent: 'center',\r\n                  width: 32,\r\n                  height: 32,\r\n                  borderRadius: 6,\r\n                  border: '1px solid #d0d7de',\r\n                  background: '#fff',\r\n                  color: '#111827', // ensures SVG 'currentColor' renders as dark\r\n                  cursor: 'pointer',\r\n                  boxShadow: '0 1px 2px rgba(0,0,0,0.04)',\r\n                  padding: 0,\r\n                }}\r\n              >\r\n                {/* Copy SVG */}\r\n                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\">\r\n                  <g fill=\"none\" stroke=\"currentColor\" strokeWidth=\"1.5\">\r\n                    <path d=\"M6 11c0-2.828 0-4.243.879-5.121C7.757 5 9.172 5 12 5h3c2.828 0 4.243 0 5.121.879C21 6.757 21 8.172 21 11v5c0 2.828 0 4.243-.879 5.121C19.243 22 17.828 22 15 22h-3c-2.828 0-4.243 0-5.121-.879C6 20.243 6 18.828 6 16z\"/>\r\n                    <path d=\"M6 19a3 3 0 0 1-3-3v-6c0-3.771 0-5.657 1.172-6.828S7.229 2 11 2h4a3 3 0 0 1 3 3\"/>\r\n                  </g>\r\n                </svg>\r\n              </button>\r\n\r\n              {/* Edit */}\r\n              <button\r\n                type=\"button\"\r\n                aria-label=\"Edit signature\"\r\n                title=\"Edit signature\"\r\n                onClick={() => setViewMode('edit')}\r\n                style={{\r\n                  display: 'inline-flex',\r\n                  alignItems: 'center',\r\n                  justifyContent: 'center',\r\n                  width: 32,\r\n                  height: 32,\r\n                  borderRadius: 6,\r\n                  border: '1px solid #d0d7de',\r\n                  background: '#fff',\r\n                  color: '#111827',\r\n                  cursor: 'pointer',\r\n                  boxShadow: '0 1px 2px rgba(0,0,0,0.04)',\r\n                  padding: 0,\r\n                }}\r\n              >\r\n                {/* Edit SVG */}\r\n                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\">\r\n                  <path fill=\"currentColor\" d=\"M5 19h1.425L16.2 9.225L14.775 7.8L5 17.575zm-1 2q-.425 0-.712-.288T3 20v-2.425q0-.4.15-.763t.425-.637L16.2 3.575q.3-.275.663-.425t.762-.15t.775.15t.65.45L20.425 5q.3.275.437.65T21 6.4q0 .4-.138.763t-.437.662l-12.6 12.6q-.275.275-.638.425t-.762.15zM19 6.4L17.6 5zm-3.525 2.125l-.7-.725L16.2 9.225z\"/>\r\n                </svg>\r\n              </button>\r\n            </div>\r\n\r\n\r\n            {/* Signature contents */}\r\n            <div style={{ marginTop: '0.75rem', lineHeight: 1.5 }}>\r\n              <p style={{ margin: 0 }}>\r\n                <strong>{name}</strong>\r\n                <br />\r\n                {position}, {department}\r\n                <br />\r\n                {company}\r\n                <br />\r\n                {locations[selectedLocation]}\r\n              </p>\r\n\r\n              {imageBase64 && (\r\n                <img\r\n                  src={`data:image/png;base64,${imageBase64}`}\r\n                  alt=\"Signature\"\r\n                  style={{ maxWidth: 300, marginTop: '1rem' }}\r\n                />\r\n              )}\r\n            </div>\r\n          </div>\r\n        ) : (\r\n          // ==== EDIT VIEW ====\r\n          <div style={{ maxWidth: PREVIEW_MAX_WIDTH, width: '100%' }}>\r\n            <h3 style={{ marginTop: 0 }}>Create or Edit Signature</h3>\r\n            <form onSubmit={(e) => e.preventDefault()}>\r\n              {/* Signature Name */}\r\n              <div style={{ marginBottom: '1rem' }}>\r\n                <label>Signature Name:</label>\r\n                <br />\r\n                <input\r\n                  type=\"text\"\r\n                  value={signatureName}\r\n                  onChange={(e) => setSignatureName(e.target.value)}\r\n                  style={{ width: '100%' }}\r\n                />\r\n              </div>\r\n\r\n              {/* Name and Position */}\r\n              <div style={{ display: 'flex', gap: '1rem', marginBottom: '1rem' }}>\r\n                <div style={{ flex: 1 }}>\r\n                  <label>\r\n                    Name<span style={{ color: 'red' }}> *</span>:\r\n                  </label>\r\n                  <br />\r\n                  <input\r\n                    type=\"text\"\r\n                    value={name}\r\n                    onChange={(e) => setName(e.target.value)}\r\n                    style={{ width: '100%' }}\r\n                  />\r\n                </div>\r\n                <div style={{ flex: 1 }}>\r\n                  <label>\r\n                    Position<span style={{ color: 'red' }}> *</span>:\r\n                  </label>\r\n                  <br />\r\n                  <input\r\n                    type=\"text\"\r\n                    value={position}\r\n                    onChange={(e) => setPosition(e.target.value)}\r\n                    style={{ width: '100%' }}\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              {/* Company and Department */}\r\n              <div style={{ display: 'flex', gap: '1rem', marginBottom: '1rem' }}>\r\n                <div style={{ flex: 1 }}>\r\n                  <label>Company:</label>\r\n                  <br />\r\n                  <input\r\n                    type=\"text\"\r\n                    value={company}\r\n                    onChange={(e) => setCompany(e.target.value)}\r\n                    style={{ width: '100%' }}\r\n                  />\r\n                </div>\r\n                <div style={{ flex: 1 }}>\r\n                  <label>Department:</label>\r\n                  <br />\r\n                  <input\r\n                    type=\"text\"\r\n                    value={department}\r\n                    onChange={(e) => setDepartment(e.target.value)}\r\n                    style={{ width: '100%' }}\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              {/* Location Dropdown and File Picker */}\r\n              <div style={{ display: 'flex', gap: '1rem', marginBottom: '1rem' }}>\r\n                <div style={{ flex: 1 }}>\r\n                  <label>Location:</label>\r\n                  <br />\r\n                  <select\r\n                    value={selectedLocation}\r\n                    onChange={(e) => setSelectedLocation(e.target.value)}\r\n                    style={{ width: '100%' }}\r\n                  >\r\n                    <option disabled value=\"\">\r\n                      -- Select Location --\r\n                    </option>\r\n                    {Object.entries(locations).map(([name, address]) => (\r\n                      <option key={name} value={name}>\r\n                        {name}\r\n                      </option>\r\n                    ))}\r\n                  </select>\r\n                </div>\r\n                <div style={{ flex: 1 }}>\r\n                  <label>Company Logo or Signature Image:</label>\r\n                  <br />\r\n                  <input\r\n                    type=\"file\"\r\n                    accept=\"image/*\"\r\n                    onChange={handleImageUpload}\r\n                    style={{ width: '100%' }}\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              {/* Save Button */}\r\n              <div style={{ display: 'flex', gap: '0.5rem' }}>\r\n                <button type=\"button\" onClick={handleSave}>\r\n                  Save\r\n                </button>\r\n                <button type=\"button\" onClick={() => setViewMode('preview')}>\r\n                  Cancel\r\n                </button>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}