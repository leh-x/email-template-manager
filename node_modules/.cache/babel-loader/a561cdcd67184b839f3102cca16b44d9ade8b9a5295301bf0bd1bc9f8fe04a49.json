{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\lhaveman\\\\email-generator\\\\src\\\\views\\\\SignaturesView.tsx\",\n  _s = $RefreshSig$();\nimport React, { useCallback, useEffect, useState } from 'react';\nimport { core } from '@tauri-apps/api';\nimport clipboard from 'tauri-plugin-clipboard-api';\nimport SignatureCard from '../components/SignatureCard/SignatureCard';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function SignaturesView() {\n  _s();\n  const [signatureName, setSignatureName] = useState('');\n  const [name, setName] = useState('');\n  const [position, setPosition] = useState('');\n  const [department, setDepartment] = useState('');\n  const [company, setCompany] = useState('');\n  const [locations, setLocations] = useState({});\n  const [selectedLocation, setSelectedLocation] = useState('');\n  const [imageFileName, setImageFileName] = useState('');\n  const [signatureList, setSignatureList] = useState([]);\n  const [viewMode, setViewMode] = useState('preview');\n  const [lastSelectedSignature, setLastSelectedSignature] = useState(null);\n  const [imageBase64, setImageBase64] = useState(null);\n  const handleSave = () => {\n    var _locations$selectedLo;\n    const signature = {\n      signature_name: signatureName,\n      name,\n      position,\n      department,\n      company,\n      location: {\n        name: selectedLocation,\n        address: (_locations$selectedLo = locations[selectedLocation]) !== null && _locations$selectedLo !== void 0 ? _locations$selectedLo : ''\n      },\n      image_filename: imageFileName\n    };\n    core.invoke('save_signature_to_file', {\n      signature\n    }).then(() => {\n      console.log('Signature saved to file!');\n      reloadSignatureList();\n    }).catch(err => console.error('Failed to save signature:', err));\n  };\n  const reloadSignatureList = () => {\n    core.invoke('load_signatures').then(names => {\n      Promise.all(names.map(name => core.invoke('load_signature_file', {\n        name\n      }).then(sig => ({\n        signatureName: sig.signature_name,\n        userName: sig.name\n      })))).then(setSignatureList);\n    }).catch(err => console.error('Failed to reload signatures:', err));\n  };\n  const handleSelectSignature = useCallback((name, mode = 'preview') => {\n    core.invoke('load_signature_file', {\n      name\n    }).then(sig => {\n      setSignatureName(sig.signature_name);\n      setName(sig.name);\n      setPosition(sig.position);\n      setDepartment(sig.department);\n      setCompany(sig.company);\n      setSelectedLocation(sig.location.name);\n      setImageFileName(sig.image_filename);\n      setViewMode(mode);\n      setLastSelectedSignature(name);\n      if (name !== lastSelectedSignature) {\n        core.invoke('save_cache', {\n          cache: {\n            last_selected_signature: name\n          }\n        }).catch(err => console.error('Failed to save cache:', err));\n      }\n      if (sig.image_filename) {\n        core.invoke('get_signature_image_base64', {\n          filename: sig.image_filename\n        }).then(setImageBase64).catch(err => console.error('Failed to load image:', err));\n      } else {\n        setImageBase64(null); // Clear if no image\n      }\n    }).catch(err => console.error('Failed to load signature:', err));\n  }, [lastSelectedSignature]);\n  const handleDeleteSignature = name => {\n    core.invoke('delete_signature_file', {\n      name\n    }).then(() => {\n      setSignatureList(prev => prev.filter(sig => sig.signatureName !== name));\n    }).catch(err => console.error('Failed to delete signature:', err));\n  };\n  const handleCopyToClipboard = async () => {\n    var _locations$selectedLo2;\n    const html = `\n      <div>\n        <strong>${name}</strong><br/>\n        ${position}, ${department}<br/>\n        ${company}<br/>\n        ${(_locations$selectedLo2 = locations[selectedLocation]) !== null && _locations$selectedLo2 !== void 0 ? _locations$selectedLo2 : ''}<br/>\n        ${imageBase64 ? `<img src=\"data:image/png;base64,${imageBase64}\" style=\"max-width:300px; margin-top:1rem;\" />` : ''}\n      </div>\n    `;\n    try {\n      await clipboard.writeHtml(html);\n      console.log('Copied to clipboard!');\n    } catch (err) {\n      console.error('Failed to copy to clipboard:', err);\n    }\n  };\n  useEffect(() => {\n    core.invoke('load_cache').then(cache => {\n      if (cache.last_selected_signature) {\n        setLastSelectedSignature(cache.last_selected_signature);\n      }\n    }).catch(err => console.error('Failed to load cache:', err));\n  }, []);\n  useEffect(() => {\n    core.invoke('load_signatures').then(names => {\n      Promise.all(names.map(name => core.invoke('load_signature_file', {\n        name\n      }).then(sig => ({\n        signatureName: sig.signature_name,\n        userName: sig.name\n      })))).then(list => {\n        setSignatureList(list);\n\n        // Load cache and select signature\n        core.invoke('load_cache').then(cache => {\n          var _list$, _cache$last_selected_;\n          const fallback = (_list$ = list[0]) === null || _list$ === void 0 ? void 0 : _list$.signatureName;\n          const toSelect = (_cache$last_selected_ = cache.last_selected_signature) !== null && _cache$last_selected_ !== void 0 ? _cache$last_selected_ : fallback;\n          if (toSelect && viewMode === 'preview') {\n            handleSelectSignature(toSelect, 'preview');\n          }\n        }).catch(err => console.error('Failed to load cache:', err));\n      });\n    }).catch(err => console.error('Failed to load signatures:', err));\n  }, [handleSelectSignature, viewMode]);\n  useEffect(() => {\n    core.invoke('load_locations').then(setLocations).catch(err => console.error('Failed to load locations:', err));\n  }, []);\n  const handleImageUpload = e => {\n    var _e$target$files;\n    const file = (_e$target$files = e.target.files) === null || _e$target$files === void 0 ? void 0 : _e$target$files[0];\n    if (file) {\n      setImageFileName(file.name);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      display: 'flex',\n      height: '100%',\n      padding: '1rem'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        width: '20%',\n        borderRight: '1px solid #ccc',\n        paddingRight: '1rem'\n      },\n      children: signatureList.map(({\n        signatureName,\n        userName\n      }) => /*#__PURE__*/_jsxDEV(SignatureCard, {\n        signatureName: signatureName,\n        userName: userName,\n        onSelect: () => handleSelectSignature(signatureName, 'preview'),\n        onEdit: () => handleSelectSignature(signatureName, 'edit'),\n        onDelete: () => handleDeleteSignature(signatureName)\n      }, signatureName, false, {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 7\n    }, this), viewMode === 'preview' ? /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Signature Preview\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 14\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 11\n        }, this), position, \", \", department, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 11\n        }, this), company, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 11\n        }, this), locations[selectedLocation]]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 11\n      }, this), imageBase64 && /*#__PURE__*/_jsxDEV(\"img\", {\n        src: `data:image/png;base64,${imageBase64}`,\n        alt: \"Signature\",\n        style: {\n          maxWidth: '300px',\n          marginTop: '1rem'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: '1rem'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setViewMode('edit'),\n          children: \"Edit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleCopyToClipboard,\n          children: \"Copy to Clipboard\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 9\n    }, this) :\n    /*#__PURE__*/\n    // Edit View\n    _jsxDEV(\"div\", {\n      style: {\n        width: '80%',\n        paddingLeft: '1rem'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Create or Edit Signature\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: e => e.preventDefault(),\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: '1rem'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Signature Name:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 228,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 228,\n            columnNumber: 45\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: signatureName,\n            onChange: e => setSignatureName(e.target.value),\n            style: {\n              width: '100%'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 229,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            gap: '1rem',\n            marginBottom: '1rem'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              flex: 1\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: [\"Name\", /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  color: 'red'\n                },\n                children: \" *\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 240,\n                columnNumber: 28\n              }, this), \":\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 240,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 240,\n              columnNumber: 77\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: name,\n              onChange: e => setName(e.target.value),\n              style: {\n                width: '100%'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 241,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              flex: 1\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: [\"Position\", /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  color: 'red'\n                },\n                children: \" *\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 249,\n                columnNumber: 32\n              }, this), \":\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 249,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 249,\n              columnNumber: 81\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: position,\n              onChange: e => setPosition(e.target.value),\n              style: {\n                width: '100%'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 250,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 248,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            gap: '1rem',\n            marginBottom: '1rem'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              flex: 1\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Company:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 262,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 262,\n              columnNumber: 40\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: company,\n              onChange: e => setCompany(e.target.value),\n              style: {\n                width: '100%'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 263,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 261,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              flex: 1\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Department:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 271,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 271,\n              columnNumber: 43\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: department,\n              onChange: e => setDepartment(e.target.value),\n              style: {\n                width: '100%'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 272,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 270,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 260,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            gap: '1rem',\n            marginBottom: '1rem'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              flex: 1\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Location:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 284,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 284,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: selectedLocation,\n              onChange: e => setSelectedLocation(e.target.value),\n              style: {\n                width: '100%'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                disabled: true,\n                value: \"\",\n                children: \"-- Select Location --\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 290,\n                columnNumber: 19\n              }, this), Object.entries(locations).map(([name, address]) => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: name,\n                children: name\n              }, name, false, {\n                fileName: _jsxFileName,\n                lineNumber: 292,\n                columnNumber: 21\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 285,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 283,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              flex: 1\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Company Logo or Signature Image:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 299,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 299,\n              columnNumber: 64\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"file\",\n              accept: \"image/*\",\n              onChange: handleImageUpload,\n              style: {\n                width: '100%'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 300,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 298,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 282,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: handleSave,\n            children: \"Save\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 311,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 310,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 187,\n    columnNumber: 5\n  }, this);\n}\n_s(SignaturesView, \"LQy20mRkTUkFXqRWcjrcHNDMFOo=\");\n_c = SignaturesView;\nvar _c;\n$RefreshReg$(_c, \"SignaturesView\");","map":{"version":3,"names":["React","useCallback","useEffect","useState","core","clipboard","SignatureCard","jsxDEV","_jsxDEV","SignaturesView","_s","signatureName","setSignatureName","name","setName","position","setPosition","department","setDepartment","company","setCompany","locations","setLocations","selectedLocation","setSelectedLocation","imageFileName","setImageFileName","signatureList","setSignatureList","viewMode","setViewMode","lastSelectedSignature","setLastSelectedSignature","imageBase64","setImageBase64","handleSave","_locations$selectedLo","signature","signature_name","location","address","image_filename","invoke","then","console","log","reloadSignatureList","catch","err","error","names","Promise","all","map","sig","userName","handleSelectSignature","mode","cache","last_selected_signature","filename","handleDeleteSignature","prev","filter","handleCopyToClipboard","_locations$selectedLo2","html","writeHtml","list","_list$","_cache$last_selected_","fallback","toSelect","handleImageUpload","e","_e$target$files","file","target","files","style","display","height","padding","children","width","borderRight","paddingRight","onSelect","onEdit","onDelete","fileName","_jsxFileName","lineNumber","columnNumber","src","alt","maxWidth","marginTop","onClick","paddingLeft","onSubmit","preventDefault","marginBottom","type","value","onChange","gap","flex","color","disabled","Object","entries","accept","_c","$RefreshReg$"],"sources":["C:/Users/lhaveman/email-generator/src/views/SignaturesView.tsx"],"sourcesContent":["\r\nimport React, { useCallback, useEffect, useState } from 'react';\r\nimport { core } from '@tauri-apps/api';\r\nimport clipboard from 'tauri-plugin-clipboard-api'\r\n\r\nimport SignatureCard from '../components/SignatureCard/SignatureCard';\r\n\r\nexport default function SignaturesView() {\r\n\r\n  const [signatureName, setSignatureName] = useState('');\r\n  const [name, setName] = useState('');\r\n  const [position, setPosition] = useState('');\r\n  const [department, setDepartment] = useState('');\r\n  const [company, setCompany] = useState('');\r\n  const [locations, setLocations] = useState<Record<string, string>>({});\r\n  const [selectedLocation, setSelectedLocation] = useState('');\r\n  const [imageFileName, setImageFileName] = useState('');\r\n  const [signatureList, setSignatureList] = useState<\r\n    { signatureName: string; userName: string }[]\r\n  >([]);\r\n  const [viewMode, setViewMode] = useState<'preview' | 'edit'>('preview');\r\n  const [lastSelectedSignature, setLastSelectedSignature] = useState<string | null>(null);\r\n  const [imageBase64, setImageBase64] = useState<string | null>(null);\r\n\r\n  interface Signature {\r\n  signature_name: string;\r\n  name: string;\r\n  position: string;\r\n  department: string;\r\n  company: string;\r\n  location: {\r\n    name: string;\r\n    address: string;\r\n  };\r\n  image_filename: string;\r\n  }\r\n\r\n  const handleSave = () => {\r\n    const signature = {\r\n      signature_name: signatureName,\r\n      name,\r\n      position,\r\n      department,\r\n      company,\r\n      location: {\r\n        name: selectedLocation,\r\n        address: locations[selectedLocation] ?? ''\r\n      },\r\n      image_filename: imageFileName\r\n    };\r\n\r\n    core.invoke('save_signature_to_file', { signature })\r\n      .then(() => { \r\n        console.log('Signature saved to file!')\r\n        reloadSignatureList();\r\n      })\r\n      .catch(err => console.error('Failed to save signature:', err));\r\n  };\r\n\r\n  const reloadSignatureList = () => {\r\n    core.invoke<string[]>('load_signatures')\r\n      .then((names) => {\r\n        Promise.all(\r\n          names.map((name) =>\r\n            core.invoke<Signature>('load_signature_file', { name })\r\n              .then((sig) => ({\r\n                signatureName: sig.signature_name,\r\n                userName: sig.name,\r\n              }))\r\n          )\r\n        ).then(setSignatureList);\r\n      })\r\n      .catch((err) => console.error('Failed to reload signatures:', err));\r\n  };\r\n\r\n  const handleSelectSignature = useCallback((name: string, mode: 'preview' | 'edit' = 'preview') => {\r\n    core.invoke<Signature>('load_signature_file', { name })\r\n      .then((sig) => {\r\n        setSignatureName(sig.signature_name);\r\n        setName(sig.name);\r\n        setPosition(sig.position);\r\n        setDepartment(sig.department);\r\n        setCompany(sig.company);\r\n        setSelectedLocation(sig.location.name);\r\n        setImageFileName(sig.image_filename);\r\n        setViewMode(mode);\r\n        setLastSelectedSignature(name);\r\n        \r\n        if (name !== lastSelectedSignature) {\r\n          core.invoke('save_cache', {\r\n            cache: { last_selected_signature: name }\r\n          }).catch((err) => console.error('Failed to save cache:', err));\r\n        }\r\n\r\n        if (sig.image_filename) {\r\n                core.invoke<string>('get_signature_image_base64', { filename: sig.image_filename })\r\n                  .then(setImageBase64)\r\n                  .catch((err) => console.error('Failed to load image:', err));\r\n              } else {\r\n                setImageBase64(null); // Clear if no image\r\n              }\r\n            })\r\n            .catch((err) => console.error('Failed to load signature:', err));\r\n  }, [lastSelectedSignature]);\r\n\r\n  const handleDeleteSignature = (name: string) => {\r\n    core.invoke('delete_signature_file', { name })\r\n      .then(() => {    \r\n        setSignatureList((prev) => prev.filter((sig) => sig.signatureName !== name));\r\n      })\r\n      .catch((err) => console.error('Failed to delete signature:', err));\r\n  };\r\n\r\n  const handleCopyToClipboard = async () => {\r\n    const html = `\r\n      <div>\r\n        <strong>${name}</strong><br/>\r\n        ${position}, ${department}<br/>\r\n        ${company}<br/>\r\n        ${locations[selectedLocation] ?? ''}<br/>\r\n        ${imageBase64 ? `<img src=\"data:image/png;base64,${imageBase64}\" style=\"max-width:300px; margin-top:1rem;\" />` : ''}\r\n      </div>\r\n    `;\r\n    try {\r\n      await clipboard.writeHtml(html);\r\n      console.log('Copied to clipboard!');\r\n    } catch (err) {\r\n      console.error('Failed to copy to clipboard:', err);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    core.invoke<{ last_selected_signature: string | null }>('load_cache')\r\n      .then((cache) => {\r\n        if (cache.last_selected_signature) {\r\n          setLastSelectedSignature(cache.last_selected_signature);\r\n        }\r\n      })\r\n      .catch((err) => console.error('Failed to load cache:', err));\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    core.invoke<string[]>('load_signatures')\r\n      .then((names) => {\r\n        Promise.all(\r\n          names.map((name) =>\r\n            core.invoke<Signature>('load_signature_file', { name })\r\n              .then((sig) => ({\r\n                signatureName: sig.signature_name,\r\n                userName: sig.name,\r\n              }))\r\n          )\r\n        ).then((list) => {\r\n          setSignatureList(list);\r\n\r\n          // Load cache and select signature\r\n          core.invoke<{ last_selected_signature: string | null }>('load_cache')\r\n            .then((cache) => {\r\n              const fallback = list[0]?.signatureName;\r\n              const toSelect = cache.last_selected_signature ?? fallback;\r\n              if (toSelect && viewMode === 'preview') \r\n                {\r\n                  handleSelectSignature(toSelect, 'preview');\r\n                }\r\n            })\r\n            .catch((err) => console.error('Failed to load cache:', err));\r\n        });\r\n      })\r\n      .catch((err) => console.error('Failed to load signatures:', err));\r\n  }, [handleSelectSignature, viewMode]);\r\n\r\n\r\n  useEffect(() => {\r\n    core.invoke<Record<string, string>>('load_locations')\r\n      .then(setLocations)\r\n      .catch(err => console.error('Failed to load locations:', err));\r\n  }, []);\r\n  \r\n  const handleImageUpload = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const file = e.target.files?.[0];\r\n    if (file) {\r\n      setImageFileName(file.name);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div style={{ display: 'flex', height: '100%', padding: '1rem' }}>\r\n      {/* Left column: placeholder for signature list */}\r\n      <div style={{ width: '20%', borderRight: '1px solid #ccc', paddingRight: '1rem' }}>      \r\n        {signatureList.map(({ signatureName, userName }) => (\r\n          <SignatureCard\r\n            key={signatureName}\r\n            signatureName={signatureName}\r\n            userName={userName}\r\n            onSelect={() => handleSelectSignature(signatureName, 'preview')}\r\n            onEdit={() => handleSelectSignature(signatureName, 'edit')}\r\n            onDelete={() => handleDeleteSignature(signatureName)}\r\n          />\r\n        ))}\r\n      </div>\r\n     \r\n      {/* Right column: 80% width */}      \r\n      { viewMode === 'preview' ? (\r\n        <div>\r\n          <h3>Signature Preview</h3>\r\n          <p><strong>{name}</strong>\r\n          <br/>{position}, {department}\r\n          <br/>{company}\r\n          <br/>{locations[selectedLocation]}</p>          \r\n          { imageBase64 && (\r\n            <img\r\n              src={`data:image/png;base64,${imageBase64}`}\r\n              alt=\"Signature\"\r\n              style={{ maxWidth: '300px', marginTop: '1rem' }}\r\n            />\r\n          )}\r\n          <div style={{ marginTop: '1rem' }}>\r\n            <button onClick={() => setViewMode('edit')}>Edit</button>\r\n            <button onClick={() => handleCopyToClipboard}>Copy to Clipboard</button>\r\n          </div>\r\n        </div>\r\n      ) : (     // Edit View\r\n        <div style={{ width: '80%', paddingLeft: '1rem' }}>\r\n          <h3>Create or Edit Signature</h3>\r\n          <form onSubmit={e => e.preventDefault()}>\r\n            {/* Signature Name */}\r\n            <div style={{ marginBottom: '1rem' }}>\r\n              <label>Signature Name:</label><br />\r\n              <input\r\n                type=\"text\"\r\n                value={signatureName}\r\n                onChange={e => setSignatureName(e.target.value)}\r\n                style={{ width: '100%' }}\r\n              />\r\n            </div>\r\n\r\n            {/* Name and Position */}\r\n            <div style={{ display: 'flex', gap: '1rem', marginBottom: '1rem' }}>\r\n              <div style={{ flex: 1 }}>\r\n                <label>Name<span style={{ color: 'red' }}> *</span>:</label><br />\r\n                <input\r\n                  type=\"text\"\r\n                  value={name}\r\n                  onChange={e => setName(e.target.value)}\r\n                  style={{ width: '100%' }}\r\n                />\r\n              </div>\r\n              <div style={{ flex: 1 }}>\r\n                <label>Position<span style={{ color: 'red' }}> *</span>:</label><br />\r\n                <input\r\n                  type=\"text\"\r\n                  value={position}\r\n                  onChange={e => setPosition(e.target.value)}\r\n                  style={{ width: '100%' }}\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            {/* Company and Department */}\r\n            <div style={{ display: 'flex', gap: '1rem', marginBottom: '1rem' }}>\r\n              <div style={{ flex: 1 }}>\r\n                <label>Company:</label><br />\r\n                <input\r\n                  type=\"text\"\r\n                  value={company}\r\n                  onChange={e => setCompany(e.target.value)}\r\n                  style={{ width: '100%' }}\r\n                />\r\n              </div>\r\n              <div style={{ flex: 1 }}>\r\n                <label>Department:</label><br />\r\n                <input\r\n                  type=\"text\"\r\n                  value={department}\r\n                  onChange={e => setDepartment(e.target.value)}\r\n                  style={{ width: '100%' }}\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            {/* Location Dropdown and File Picker */}\r\n            <div style={{ display: 'flex', gap: '1rem', marginBottom: '1rem' }}>\r\n              <div style={{ flex: 1 }}>\r\n                <label>Location:</label><br />\r\n                <select\r\n                  value={selectedLocation}\r\n                  onChange={e => setSelectedLocation(e.target.value)}\r\n                  style={{ width: '100%' }}\r\n                >\r\n                  <option disabled value=\"\">-- Select Location --</option>\r\n                  {Object.entries(locations).map(([name, address]) => (\r\n                    <option key={name} value={name}>\r\n                      {name}\r\n                    </option>\r\n                  ))}\r\n                </select>\r\n              </div>\r\n              <div style={{ flex: 1 }}>\r\n                <label>Company Logo or Signature Image:</label><br />\r\n                <input\r\n                  type=\"file\"\r\n                  accept=\"image/*\"\r\n                  onChange={handleImageUpload}\r\n                  style={{ width: '100%' }}\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            {/* Save Button */}\r\n            <div>\r\n              <button type=\"button\" onClick={handleSave}>Save</button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      )}\r\n    </div>  \r\n  );\r\n}\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}