{"ast":null,"code":"import { __classPrivateFieldGet, __classPrivateFieldSet } from '../external/tslib/tslib.es6.js';\nimport { Resource, Channel, invoke } from '../core.js';\nimport { transformImage } from '../image.js';\n\n// Copyright 2019-2024 Tauri Programme within The Commons Conservancy\n// SPDX-License-Identifier: Apache-2.0\n// SPDX-License-Identifier: MIT\nvar _MenuItemBase_id, _MenuItemBase_kind;\nfunction injectChannel(i) {\n  var _a;\n  if ('items' in i) {\n    i.items = (_a = i.items) === null || _a === void 0 ? void 0 : _a.map(item => 'rid' in item ? item : injectChannel(item));\n  } else if ('action' in i && i.action) {\n    const handler = new Channel();\n    handler.onmessage = i.action;\n    delete i.action;\n    return {\n      ...i,\n      handler\n    };\n  }\n  return i;\n}\nasync function newMenu(kind, opts) {\n  const handler = new Channel();\n  if (opts && typeof opts === 'object') {\n    if ('action' in opts && opts.action) {\n      handler.onmessage = opts.action;\n      delete opts.action;\n    }\n    // about predefined menu item icon\n    if ('item' in opts && opts.item && typeof opts.item === 'object' && 'About' in opts.item && opts.item.About && typeof opts.item.About === 'object' && 'icon' in opts.item.About && opts.item.About.icon) {\n      opts.item.About.icon = transformImage(opts.item.About.icon);\n    }\n    // icon menu item icon\n    if ('icon' in opts && opts.icon) {\n      opts.icon = transformImage(opts.icon);\n    }\n    // submenu items\n    if ('items' in opts && opts.items) {\n      function prepareItem(i) {\n        var _a;\n        if ('rid' in i) {\n          return [i.rid, i.kind];\n        }\n        if ('item' in i && typeof i.item === 'object' && ((_a = i.item.About) === null || _a === void 0 ? void 0 : _a.icon)) {\n          i.item.About.icon = transformImage(i.item.About.icon);\n        }\n        if ('icon' in i && i.icon) {\n          i.icon = transformImage(i.icon);\n        }\n        if ('items' in i && i.items) {\n          // @ts-expect-error the `prepareItem` return doesn't exactly match\n          // this is fine, because the difference is in `[number, string]` variant\n          i.items = i.items.map(prepareItem);\n        }\n        return injectChannel(i);\n      }\n      // @ts-expect-error the `prepareItem` return doesn't exactly match\n      // this is fine, because the difference is in `[number, string]` variant\n      opts.items = opts.items.map(prepareItem);\n    }\n  }\n  return invoke('plugin:menu|new', {\n    kind,\n    options: opts,\n    handler\n  });\n}\nclass MenuItemBase extends Resource {\n  /** The id of this item. */\n  get id() {\n    return __classPrivateFieldGet(this, _MenuItemBase_id, \"f\");\n  }\n  /** @ignore */\n  get kind() {\n    return __classPrivateFieldGet(this, _MenuItemBase_kind, \"f\");\n  }\n  /** @ignore */\n  constructor(rid, id, kind) {\n    super(rid);\n    /** @ignore */\n    _MenuItemBase_id.set(this, void 0);\n    /** @ignore */\n    _MenuItemBase_kind.set(this, void 0);\n    __classPrivateFieldSet(this, _MenuItemBase_id, id, \"f\");\n    __classPrivateFieldSet(this, _MenuItemBase_kind, kind, \"f\");\n  }\n}\n_MenuItemBase_id = new WeakMap(), _MenuItemBase_kind = new WeakMap();\nexport { MenuItemBase, newMenu };","map":{"version":3,"names":["__classPrivateFieldGet","__classPrivateFieldSet","Resource","Channel","invoke","transformImage","_MenuItemBase_id","_MenuItemBase_kind","injectChannel","i","_a","items","map","item","action","handler","onmessage","newMenu","kind","opts","About","icon","prepareItem","rid","options","MenuItemBase","id","constructor","set","WeakMap"],"sources":["C:/Users/lhaveman/email-generator/node_modules/@tauri-apps/api/menu/base.js"],"sourcesContent":["import { __classPrivateFieldGet, __classPrivateFieldSet } from '../external/tslib/tslib.es6.js';\nimport { Resource, Channel, invoke } from '../core.js';\nimport { transformImage } from '../image.js';\n\n// Copyright 2019-2024 Tauri Programme within The Commons Conservancy\n// SPDX-License-Identifier: Apache-2.0\n// SPDX-License-Identifier: MIT\nvar _MenuItemBase_id, _MenuItemBase_kind;\nfunction injectChannel(i) {\n    var _a;\n    if ('items' in i) {\n        i.items = (_a = i.items) === null || _a === void 0 ? void 0 : _a.map((item) => 'rid' in item ? item : injectChannel(item));\n    }\n    else if ('action' in i && i.action) {\n        const handler = new Channel();\n        handler.onmessage = i.action;\n        delete i.action;\n        return { ...i, handler };\n    }\n    return i;\n}\nasync function newMenu(kind, opts) {\n    const handler = new Channel();\n    if (opts && typeof opts === 'object') {\n        if ('action' in opts && opts.action) {\n            handler.onmessage = opts.action;\n            delete opts.action;\n        }\n        // about predefined menu item icon\n        if ('item' in opts\n            && opts.item\n            && typeof opts.item === 'object'\n            && 'About' in opts.item\n            && opts.item.About\n            && typeof opts.item.About === 'object'\n            && 'icon' in opts.item.About\n            && opts.item.About.icon) {\n            opts.item.About.icon = transformImage(opts.item.About.icon);\n        }\n        // icon menu item icon\n        if ('icon' in opts && opts.icon) {\n            opts.icon = transformImage(opts.icon);\n        }\n        // submenu items\n        if ('items' in opts && opts.items) {\n            function prepareItem(i) {\n                var _a;\n                if ('rid' in i) {\n                    return [i.rid, i.kind];\n                }\n                if ('item' in i && typeof i.item === 'object' && ((_a = i.item.About) === null || _a === void 0 ? void 0 : _a.icon)) {\n                    i.item.About.icon = transformImage(i.item.About.icon);\n                }\n                if ('icon' in i && i.icon) {\n                    i.icon = transformImage(i.icon);\n                }\n                if ('items' in i && i.items) {\n                    // @ts-expect-error the `prepareItem` return doesn't exactly match\n                    // this is fine, because the difference is in `[number, string]` variant\n                    i.items = i.items.map(prepareItem);\n                }\n                return injectChannel(i);\n            }\n            // @ts-expect-error the `prepareItem` return doesn't exactly match\n            // this is fine, because the difference is in `[number, string]` variant\n            opts.items = opts.items.map(prepareItem);\n        }\n    }\n    return invoke('plugin:menu|new', {\n        kind,\n        options: opts,\n        handler\n    });\n}\nclass MenuItemBase extends Resource {\n    /** The id of this item. */\n    get id() {\n        return __classPrivateFieldGet(this, _MenuItemBase_id, \"f\");\n    }\n    /** @ignore */\n    get kind() {\n        return __classPrivateFieldGet(this, _MenuItemBase_kind, \"f\");\n    }\n    /** @ignore */\n    constructor(rid, id, kind) {\n        super(rid);\n        /** @ignore */\n        _MenuItemBase_id.set(this, void 0);\n        /** @ignore */\n        _MenuItemBase_kind.set(this, void 0);\n        __classPrivateFieldSet(this, _MenuItemBase_id, id, \"f\");\n        __classPrivateFieldSet(this, _MenuItemBase_kind, kind, \"f\");\n    }\n}\n_MenuItemBase_id = new WeakMap(), _MenuItemBase_kind = new WeakMap();\n\nexport { MenuItemBase, newMenu };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}