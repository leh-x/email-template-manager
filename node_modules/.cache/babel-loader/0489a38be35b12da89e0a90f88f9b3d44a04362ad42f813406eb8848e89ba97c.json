{"ast":null,"code":"// src/ui/ToastProvider.tsx\nimport React,{createContext,useCallback,useContext,useMemo,useState}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ToastContext=/*#__PURE__*/createContext(null);export function ToastProvider(_ref){let{children}=_ref;const[toasts,setToasts]=useState([]);const dismissToast=useCallback(id=>{setToasts(prev=>prev.filter(t=>t.id!==id));},[]);const showToast=useCallback(opts=>{var _opts$variant,_opts$durationMs;const id=`${Date.now()}_${Math.random().toString(36).slice(2)}`;const toast={id,message:opts.message,variant:(_opts$variant=opts.variant)!==null&&_opts$variant!==void 0?_opts$variant:'info',actionLabel:opts.actionLabel,onAction:opts.onAction};setToasts(prev=>[...prev,toast]);const duration=(_opts$durationMs=opts.durationMs)!==null&&_opts$durationMs!==void 0?_opts$durationMs:2200;if(duration>0){setTimeout(()=>dismissToast(id),duration);}},[dismissToast]);const value=useMemo(()=>({showToast,dismissToast}),[showToast,dismissToast]);return/*#__PURE__*/_jsxs(ToastContext.Provider,{value:value,children:[children,/*#__PURE__*/_jsx(\"div\",{\"aria-live\":\"polite\",role:\"status\",style:{position:'fixed',right:16,bottom:16,display:'flex',flexDirection:'column',gap:8,zIndex:9999,pointerEvents:'none'},children:toasts.map(t=>/*#__PURE__*/_jsxs(\"div\",{style:{pointerEvents:'auto',display:'flex',alignItems:'center',gap:10,padding:'10px 12px',borderRadius:8,boxShadow:'0 8px 24px rgba(0,0,0,0.16)',color:'#fff',background:t.variant==='success'?'#059669':t.variant==='danger'?'#dc2626':t.variant==='warning'?'#d97706':'#111827',border:'1px solid rgba(255,255,255,0.12)',maxWidth:360,fontSize:13},children:[/*#__PURE__*/_jsx(\"span\",{\"aria-hidden\":\"true\",style:{width:8,height:8,borderRadius:999,background:'#ffffff',opacity:0.9,flex:'0 0 auto'}}),/*#__PURE__*/_jsx(\"span\",{style:{lineHeight:1.25},children:t.message}),t.actionLabel&&t.onAction&&/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>{var _t$onAction;(_t$onAction=t.onAction)===null||_t$onAction===void 0?void 0:_t$onAction.call(t);dismissToast(t.id);},style:{marginLeft:'auto',background:'transparent',border:'1px solid rgba(255,255,255,0.6)',color:'#fff',borderRadius:6,padding:'4px 8px',cursor:'pointer'},children:t.actionLabel}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>dismissToast(t.id),\"aria-label\":\"Dismiss\",title:\"Dismiss\",style:{marginLeft:t.actionLabel?6:'auto',background:'transparent',border:0,color:'#ffffff',cursor:'pointer',fontSize:16,lineHeight:1},children:\"\\xD7\"})]},t.id))})]});}export function useToast(){const ctx=useContext(ToastContext);if(!ctx)throw new Error('useToast must be used within a ToastProvider');return ctx;}","map":{"version":3,"names":["React","createContext","useCallback","useContext","useMemo","useState","jsx","_jsx","jsxs","_jsxs","ToastContext","ToastProvider","_ref","children","toasts","setToasts","dismissToast","id","prev","filter","t","showToast","opts","_opts$variant","_opts$durationMs","Date","now","Math","random","toString","slice","toast","message","variant","actionLabel","onAction","duration","durationMs","setTimeout","value","Provider","role","style","position","right","bottom","display","flexDirection","gap","zIndex","pointerEvents","map","alignItems","padding","borderRadius","boxShadow","color","background","border","maxWidth","fontSize","width","height","opacity","flex","lineHeight","type","onClick","_t$onAction","call","marginLeft","cursor","title","useToast","ctx","Error"],"sources":["C:/Users/lhaveman/email-generator/src/ui/toast.tsx"],"sourcesContent":["// src/ui/ToastProvider.tsx\r\nimport React, { createContext, useCallback, useContext, useMemo, useState } from 'react';\r\n\r\ntype ToastVariant = 'success' | 'danger' | 'info' | 'warning';\r\n\r\nexport type ToastOptions = {\r\n  message: string;\r\n  variant?: ToastVariant;\r\n  durationMs?: number;\r\n  // Optional inline action (e.g., Undo)\r\n  actionLabel?: string;\r\n  onAction?: () => void;\r\n};\r\n\r\ntype Toast = {\r\n  id: string;\r\n  message: string;\r\n  variant: ToastVariant;\r\n  actionLabel?: string;\r\n  onAction?: () => void;\r\n};\r\n\r\ntype ToastContextValue = {\r\n  showToast: (opts: ToastOptions) => void;\r\n  dismissToast: (id: string) => void;\r\n};\r\n\r\nconst ToastContext = createContext<ToastContextValue | null>(null);\r\n\r\nexport function ToastProvider({ children }: { children: React.ReactNode }) {\r\n  const [toasts, setToasts] = useState<Toast[]>([]);\r\n\r\n  const dismissToast = useCallback((id: string) => {\r\n    setToasts((prev) => prev.filter((t) => t.id !== id));\r\n  }, []);\r\n\r\n  const showToast = useCallback((opts: ToastOptions) => {\r\n    const id = `${Date.now()}_${Math.random().toString(36).slice(2)}`;\r\n    const toast: Toast = {\r\n      id,\r\n      message: opts.message,\r\n      variant: opts.variant ?? 'info',\r\n      actionLabel: opts.actionLabel,\r\n      onAction: opts.onAction,\r\n    };\r\n    setToasts((prev) => [...prev, toast]);\r\n\r\n    const duration = opts.durationMs ?? 2200;\r\n    if (duration > 0) {\r\n      setTimeout(() => dismissToast(id), duration);\r\n    }\r\n  }, [dismissToast]);\r\n\r\n  const value = useMemo(() => ({ showToast, dismissToast }), [showToast, dismissToast]);\r\n\r\n  return (\r\n    <ToastContext.Provider value={value}>\r\n      {children}\r\n\r\n      {/* Viewport */}\r\n      <div\r\n        aria-live=\"polite\"\r\n        role=\"status\"\r\n        style={{\r\n          position: 'fixed',\r\n          right: 16,\r\n          bottom: 16,\r\n          display: 'flex',\r\n          flexDirection: 'column',\r\n          gap: 8,\r\n          zIndex: 9999,\r\n          pointerEvents: 'none',\r\n        }}\r\n      >\r\n        {toasts.map((t) => (\r\n          <div\r\n            key={t.id}\r\n            style={{\r\n              pointerEvents: 'auto',\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              gap: 10,\r\n              padding: '10px 12px',\r\n              borderRadius: 8,\r\n              boxShadow: '0 8px 24px rgba(0,0,0,0.16)',\r\n              color: '#fff',\r\n              background:\r\n                t.variant === 'success' ? '#059669' :\r\n                t.variant === 'danger'  ? '#dc2626' :\r\n                t.variant === 'warning' ? '#d97706' :\r\n                                           '#111827',\r\n              border: '1px solid rgba(255,255,255,0.12)',\r\n              maxWidth: 360,\r\n              fontSize: 13,\r\n            }}\r\n          >\r\n            {/* tiny dot */}\r\n            <span\r\n              aria-hidden=\"true\"\r\n              style={{\r\n                width: 8,\r\n                height: 8,\r\n                borderRadius: 999,\r\n                background: '#ffffff',\r\n                opacity: 0.9,\r\n                flex: '0 0 auto',\r\n              }}\r\n            />\r\n            <span style={{ lineHeight: 1.25 }}>{t.message}</span>\r\n\r\n            {t.actionLabel && t.onAction && (\r\n              <button\r\n                type=\"button\"\r\n                onClick={() => { t.onAction?.(); dismissToast(t.id); }}\r\n                style={{\r\n                  marginLeft: 'auto',\r\n                  background: 'transparent',\r\n                  border: '1px solid rgba(255,255,255,0.6)',\r\n                  color: '#fff',\r\n                  borderRadius: 6,\r\n                  padding: '4px 8px',\r\n                  cursor: 'pointer',\r\n                }}\r\n              >\r\n                {t.actionLabel}\r\n              </button>\r\n            )}\r\n\r\n            <button\r\n              type=\"button\"\r\n              onClick={() => dismissToast(t.id)}\r\n              aria-label=\"Dismiss\"\r\n              title=\"Dismiss\"\r\n              style={{\r\n                marginLeft: t.actionLabel ? 6 : 'auto',\r\n                background: 'transparent',\r\n                border: 0,\r\n                color: '#ffffff',\r\n                cursor: 'pointer',\r\n                fontSize: 16,\r\n                lineHeight: 1,\r\n              }}\r\n            >\r\n              Ã—\r\n            </button>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </ToastContext.Provider>\r\n  );\r\n}\r\n\r\nexport function useToast() {\r\n  const ctx = useContext(ToastContext);\r\n  if (!ctx) throw new Error('useToast must be used within a ToastProvider');\r\n  return ctx;\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}